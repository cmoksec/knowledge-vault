# Practice: SCA

Created: June 24, 2025 9:42 PM

### Snyk Integration, option 1 (natively, maven plugin)

![image.png](Practice%20SCA/image.png)

1)

```xml
<plugin>
  <groupId>io.snyk</groupId>
  <artifactId>snyk-maven-plugin</artifactId>
  <version>2.0.0</version>
  <inherited>false</inherited>
  <configuration>
    <org>cmoksec</org>
  </configuration>
</plugin>
```

2) Snyk → Account Settings → General → Auth token → CI / CD variable

![image.png](Practice%20SCA/image%201.png)

3)

```yaml
snyk-check:
  stage: runSCA
  image: maven:eclipse-temurin
  # -fn maven flag stands for fail never - to avoid failing builds (for demo purposes, remove in real world scenario)
  script: |
    export SNYK_TOKEN="$SNYK_TOKEN"
    mvn snyk:test -fn
```

### Snyk Integration, option 2 (using Snyk CLI)

```yaml

snyk-check:
  stage: runSCA
  image:
    name: snyk/snyk:maven-3-jdk-20
    entrypoint: [ "" ]
  script:
    - curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
    - apt-get update && apt-get install -y nodejs && npm install -g snyk-to-html
    - snyk test --all-projects --json | snyk-to-html -o results.html
  artifacts:
    paths: [ "results.html" ]
    when: always
  allow_failure: true
```